07 문자/숫자/날짜 함수
문자함수
예제01 SELECT ID, NAME, LOWER(NAME) AS NAME_SMALL FROM VENDOR_INFO;
예제02 SELECT ID, NAME, UPPER(NAME) AS NAME_CAP FROM VENDOR_IFNO;
예제03 SELECT ID, NAME, LENGTH(NAME) AS NAME_CNT FROM VENDOR_INFO;
예제04 SELECT ID, NAME, SUBSTR(NAME,1,3) AS NAME_STR FROM VENDOR_INFO;
숫자함수
ROUND TRUNC MOD(M,N) ABS SIGN SQRT COS SIN SAN PI
ROUND TRUNC MOD(M,N)
SELECT PROD_ID, TOTAL_SALES, ROUND(TOTAL_SALES,2) AS SALESS_REV FROM PROD_SALES; #1임
SELECT PROD_ID, TOTAL_SALES, ROUND(TOTAL_SALES, 0) AS SALES_REV FROM PROD_SALES;
SELECT PROD_ID, TOTAL_SALES, ROUND(TOTAL_SALES, -2) #-1임
SELECT PROD_ID, TOTAL_SALES, SALES_NUM, MOD(TOTAL_SALES,SALES_NUM) AS SALES_BALANCE FROM PROD_SALES;
SELECT PROD_ID, ECON_INCOME, ABS(ECON_INCOME) AS PRFT FROM PROD_SALES;

실습
01 SELECT RESIENCE_ID, (RESIDENCE_ID LIKE 8% = 1, RESIDENCE_ID LIKE 7% = 2) AS GENDER FROM CUST_INFO;
SUBSTR(RESIDENCE_ID, 1)
#SUBSTR(RESIDENCE_ID,7,1)
02 SELECT TRIM(LAST_NM)||', '||TRIM(FIRST_NM) AS FLL_NM FROM CUST_INFO;
03 SELECT RESIDENCE_ID, ROUND(ANNL_PERF,1) AS NEW_ANNL_PERF FROM CUST_INFO;

08
case when then
02 SELECT ID, JOB, CURRNET_SAL, ENG_SCORE
        CASE WHEN JOB='CLERK' AND ENG_SCORE >= 80 THEN CURRENT_SAL*10.7
             WHEN JOB='CLERK' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.06
             WHEN JOB='OFFICIER' AND ENG_SCORE >= 80 THEN CURRENT_SAL*1.05
             WHEN JOB='OFFICIER' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.04
             WHEN JOB='MANAGER' AND ENG_SCORE >= 80  THEN CURRENT_SAL*1.03
             WHEN JOB='MANAGER' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.02
             ELSE CURRENT_SAL
             END AS NEXT_SAL
   FROM STAFF_SAL;

03 SELECT SUM(NEXT_SAL
        CASE WHEN JOB='CLERK' AND ENG_SCORE >= 80 THEN CURRENT_SAL*10.7
             WHEN JOB='CLERK' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.06
             WHEN JOB='OFFICIER' AND ENG_SCORE >= 80 THEN CURRENT_SAL*1.05
             WHEN JOB='OFFICIER' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.04
             WHEN JOB='MANAGER' AND ENG_SCORE >= 80  THEN CURRENT_SAL*1.03
             WHEN JOB='MANAGER' AND ENG_SCORE < 80  THEN CURRENT_SAL*1.02
             ELSE CURRENT_SAL END 
             AS NEXT_SAL ) - SUM(CURRENT_SAL) AS ADD_BUDGET
  FROM STAFF_SAL;
# SUM ( NEXT SAL CASE WHEN... 에서 NEXT SAL 을 정의할 필요가 없었다 해야하나 . 그리고 없는 문법 같음

실습01
SELECT CUST_ID, CUST_SEG, BALANCE_201311, BALANCE_201312,
        CASE WHEN BALANCE_201311*1.1<=BALANCE_201312 THEN 1
             ELSE 0 END AS OFFER_ACCEPT
FROM CASA_201312;

실습02
SELECT COUNT(*) AS LEAD_CNT, 
        SUM(CASE WHEN BALANCE_201311*1.1<=BALANCE_201312 THEN 1 ELSE 0 END) AS OFFER_ACCEPT, 
        OFFER_ACCEPT/LEAD_CNT*100 AS RES_RATE
FROM CASA_201312;

